<?xml version="1.0" ?>
<config>
  <apiCheckProjects>
    <project>release.go.v23</project>
    <project>release.go.x.devtools</project>
    <project>release.go.x.lib</project>
  </apiCheckProjects>
  <copyrightCheckProjects>
    <project>docs</project>
    <project>release.go.jiri</project>
    <project>release.go.v23</project>
    <project>release.go.x.devtools</project>
    <project>release.go.x.jni</project>
    <project>release.go.x.lib</project>
    <project>release.go.x.ref</project>
    <project>release.java</project>
    <project>release.js.core</project>
    <project>release.js.syncbase</project>
    <project>release.mojo.discovery</project>
    <project>release.mojo.shared</project>
    <project>release.mojo.syncbase</project>
    <project>release.mojo.v23proxy</project>
    <project>release.projects.browser</project>
    <project>release.projects.chat</project>
    <project>release.projects.croupier</project>
    <project>release.projects.media-sharing</project>
    <project>release.projects.physical-lock</project>
    <project>release.projects.pipe2browser</project>
    <project>release.projects.playground</project>
    <project>release.projects.reader</project>
    <project>release.projects.syncslides</project>
    <project>release.projects.travel</project>
    <project>release.projects.todos</project>
    <project>www</project>
  </copyrightCheckProjects>
  <goWorkspaces>
    <workspace>infrastructure/go</workspace>
    <workspace>release/go</workspace>
    <workspace>release/javascript/core/go</workspace>
    <workspace>release/projects/browser/go</workspace>
    <workspace>release/projects/chat/clients/shell/go</workspace>
    <workspace>release/projects/media-sharing/go</workspace>
    <workspace>release/projects/physical-lock/go</workspace>
    <workspace>release/projects/pipe2browser/go</workspace>
    <workspace>roadmap/go</workspace>
    <workspace>third_party/go</workspace>
  </goWorkspaces>
  <jenkinsMatrixJobs>
    <job arch="false" OS="true" parts="false" showOS="true">third_party-go-build</job>
    <job arch="false" OS="true" parts="false" showOS="true">third_party-go-test</job>
    <job arch="false" OS="true" parts="true"  showOS="false">third_party-go-race</job>
    <job arch="false" OS="true" parts="false" showOS="true">vanadium-android-build</job>
    <job arch="false" OS="true" parts="false" showOS="false">vanadium-bootstrap</job>
    <job arch="true"  OS="true" parts="false" showOS="true">vanadium-go-build</job>
    <job arch="true"  OS="true" parts="false" showOS="true">vanadium-go-test</job>
    <job arch="false" OS="true" parts="true"  showOS="false">vanadium-go-race</job>
    <job arch="false" OS="true" parts="false" showOS="true">vanadium-integration-test</job>
    <job arch="false" OS="true" parts="false" showOS="true">vanadium-java-test</job>
    <job arch="false" OS="true" parts="false" showOS="true">vanadium-www-site</job>
    <job arch="false" OS="true" parts="false" showOS="true">vanadium-www-tutorial</job>
  </jenkinsMatrixJobs>
  <projectTests>
    <project name="release.go.jiri">
      <test>go</test>
      <test>java</test>
      <test>javascript</test>
      <test>projects</test>
      <test>vanadium-bootstrap</test>
      <test>vanadium-copyright</test>
    </project>
    <project name="release.go.v23">
      <test>go</test>
      <test>java</test>
      <test>javascript</test>
      <test>projects</test>
      <test>vanadium-bootstrap</test>
      <test>vanadium-copyright</test>
    </project>
    <project name="release.go.x.devtools">
      <test>go</test>
      <test>java</test>
      <test>javascript</test>
      <test>projects</test>
      <test>third_party-go</test>
      <test>vanadium-bootstrap</test>
      <test>vanadium-copyright</test>
    </project>
    <project name="release.go.x.jni">
      <test>java</test>
      <test>vanadium-copyright</test>
    </project>
    <project name="release.go.x.lib">
      <test>go</test>
      <test>java</test>
      <test>javascript</test>
      <test>projects</test>
      <test>vanadium-bootstrap</test>
      <test>vanadium-copyright</test>
    </project>
    <project name="release.go.x.ref">
      <test>go</test>
      <test>java</test>
      <test>javascript</test>
      <test>projects</test>
      <test>vanadium-bootstrap</test>
      <test>vanadium-copyright</test>
      <test>vanadium-js-syncbase-browser</test>
      <test>vanadium-js-syncbase-node</test>
    </project>
    <project name="release.java">
      <test>java</test>
      <test>vanadium-copyright</test>
    </project>
    <project name="release.js.core">
      <test>javascript</test>
      <test>projects</test>
      <test>vanadium-copyright</test>
    </project>
    <project name="release.js.syncbase">
      <test>vanadium-copyright</test>
      <test>vanadium-js-syncbase-browser</test>
      <test>vanadium-js-syncbase-node</test>
    </project>
    <project name="release.mojo.discovery">
      <test>vanadium-copyright</test>
    </project>
    <project name="release.mojo.syncbase">
      <test>vanadium-copyright</test>
    </project>
    <project name="release.mojo.v23proxy">
      <test>vanadium-copyright</test>
    </project>
    <project name="release.projects.browser">
      <test>vanadium-browser-test</test>
      <test>vanadium-copyright</test>
    </project>
    <project name="release.projects.chat">
      <test>vanadium-chat-shell-test</test>
      <test>vanadium-chat-web-test</test>
      <test>vanadium-copyright</test>
    </project>
    <project name="release.projects.croupier">
      <test>vanadium-copyright</test>
    </project>
    <project name="release.projects.media-sharing">
      <test>go</test>
      <test>vanadium-copyright</test>
    </project>
    <project name="release.projects.pipe2browser">
      <test>vanadium-copyright</test>
      <test>vanadium-pipe2browser-test</test>
    </project>
    <project name="release.projects.playground">
      <test>vanadium-copyright</test>
      <test>vanadium-playground-test</test>
    </project>
    <project name="release.projects.reader">
      <test>vanadium-copyright</test>
      <test>vanadium-reader-test</test>
    </project>
    <project name="release.projects.syncslides">
      <test>vanadium-copyright</test>
    </project>
    <project name="release.projects.travel">
      <test>vanadium-copyright</test>
      <test>vanadium-travel-test</test>
    </project>
    <project name="third_party">
      <test>go</test>
      <test>javascript</test>
      <test>projects</test>
      <test>third_party-go</test>
    </project>
    <project name="www">
      <test>vanadium-bootstrap</test>
      <test>vanadium-copyright</test>
      <test>vanadium-www-site</test>
      <test>vanadium-www-tutorials-core</test>
      <test>vanadium-www-tutorials-js-node</test>
    </project>
  </projectTests>
  <testDependencies>
    <test name="third_party-go-race">
      <dependency>third_party-go-test</dependency>
    </test>
    <test name="third_party-go-test">
      <dependency>third_party-go-build</dependency>
    </test>
    <test name="vanadium-browser-test">
      <dependency>vanadium-go-build</dependency>
      <dependency>vanadium-js-browser-integration</dependency>
      <dependency>vanadium-js-node-integration</dependency>
    </test>
    <test name="vanadium-playground-test">
      <dependency>vanadium-go-build</dependency>
      <dependency>vanadium-js-node-integration</dependency>
    </test>
    <test name="vanadium-go-race">
      <dependency>vanadium-go-test</dependency>
    </test>
    <test name="vanadium-go-test">
      <dependency>vanadium-go-build</dependency>
    </test>
    <test name="vanadium-js-browser-integration">
      <dependency>vanadium-go-build</dependency>
      <dependency>vanadium-js-unit</dependency>
    </test>
    <test name="vanadium-js-node-integration">
      <dependency>vanadium-go-build</dependency>
      <dependency>vanadium-js-unit</dependency>
    </test>
    <test name="vanadium-integration-test">
      <dependency>vanadium-go-build</dependency>
    </test>
  </testDependencies>
  <testGroups>
    <group name="go">
      <test>vanadium-go-api</test>
      <test>vanadium-go-build</test>
      <test>vanadium-go-depcop</test>
      <test>vanadium-go-format</test>
      <test>vanadium-go-generate</test>
      <test>vanadium-go-race</test>
      <test>vanadium-go-test</test>
      <test>vanadium-go-vdl</test>
      <!-- TODO(sjr) figure out what to do with go vet. It currently produces
           false positives which we can't workaround with CLs like
           https://vanadium.googlesource.com/third_party/+/5e07c533eb2dfa525b5d0f3782112a2a5c4b6912,
           because go vet moved back into core go as of Go1.5.
      <test>vanadium-go-vet</test>
      -->
      <test>vanadium-integration-test</test>
      <test>vanadium-regression-test</test>
      <test>vanadium-prod-services-test</test>
      <test>vanadium-www-tutorials-core</test>
    </group>
    <group name="java">
      <test>vanadium-java-test</test>
      <test>vanadium-android-build</test>
    </group>
    <group name="javascript">
      <test>vanadium-js-browser-integration</test>
      <test>vanadium-js-build-extension</test>
      <test>vanadium-js-doc</test>
      <test>vanadium-js-doc-syncbase</test>
      <test>vanadium-js-node-integration</test>
      <test>vanadium-js-syncbase-browser</test>
      <test>vanadium-js-syncbase-node</test>
      <test>vanadium-js-unit</test>
      <test>vanadium-js-vdl</test>
      <test>vanadium-js-vdl-audit</test>
      <test>vanadium-js-vom</test>
      <test>vanadium-www-tutorials-js-node</test>
    </group>
    <group name="projects">
      <test>vanadium-browser-test</test>
      <test>vanadium-chat-shell-test</test>
      <test>vanadium-chat-web-test</test>
      <test>vanadium-pipe2browser-test</test>
      <test>vanadium-playground-test</test>
    </group>
    <group name="third_party-go">
      <test>third_party-go-build</test>
      <test>third_party-go-race</test>
      <test>third_party-go-test</test>
    </group>
  </testGroups>
  <testParts>
    <test name="vanadium-go-race">
      <part>v.io/x/ref/services/device/...</part>
      <part>v.io/x/ref/services/agent/...,v.io/x/ref/services/internal/...,v.io/x/ref/services/syncbase/...</part>
      <part>v.io/x/ref/services/...</part>
      <part>v.io/x/ref/runtime/...</part>
      <part>v.io/x/ref/...</part>
      <part>v.io/x/devtools/...</part>
    </test>
    <test name="third_party-go-race">
      <part>golang.org/x/tools/go/ssa/...,golang.org/x/tools/go/pointer/...</part>
      <part>golang.org/x/tools/...</part>
      <part>golang.org/x/crypto/...</part>
    </test>
  </testParts>
  <vdlWorkspaces>
    <workspace>release/go</workspace>
    <workspace>release/javascript/core/go</workspace>
    <workspace>release/projects/browser/go</workspace>
    <workspace>release/projects/chat/clients/shell/go</workspace>
    <workspace>release/projects/media-sharing/go</workspace>
    <workspace>release/projects/physical-lock/go</workspace>
    <workspace>release/projects/pipe2browser/go</workspace>
    <workspace>roadmap/go</workspace>
  </vdlWorkspaces>
</config>
